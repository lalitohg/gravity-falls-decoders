var gravityFallsDecoders=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(4));t.defaultAlphabet=o.default,n(r(5)),n(r(6))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.Caesar=n.Caesar;var i=r(7);t.Atbash=i.Atbash;var o=r(9);t.A1Z26=o.A1Z26;var a=r(11);t.Viginere=a.Viginere},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(3))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(0),u=function(e,t){return a.getRotateNTokenAtIndex(e,t,3)},p=function(e,t,r,i){var o;return n(n({},e),((o={})[t]=u(r,i),o))},c=function(e,t,r,i){var o;return n(n({},e),((o={})[u(r,i)]=t,o))},s=function(){function e(e){void 0===e&&(e=o.defaultAlphabet),this._alphabet=e.length>3?e.map((function(e){return e.toLowerCase()})):o.defaultAlphabet,this._encryptMap=this._alphabet.reduce(p,{}),this._decryptMap=this._alphabet.reduce(c,{})}return Object.defineProperty(e.prototype,"alphabet",{get:function(){return i(this._alphabet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptMap",{get:function(){return n({},this._encryptMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptMap",{get:function(){return n({},this._decryptMap)},enumerable:!0,configurable:!0}),e.prototype.encryptString=function(e){var t=this;return e.toLowerCase().split("").reduce((function(e,r){return t.encryptMap[r]?e+=t.encryptMap[r]:e+=r}),"")},e.prototype.decryptString=function(e){var t=this;return e.toLowerCase().split("").reduce((function(e,r){return t.decryptMap[r]?e+=t.decryptMap[r]:e+=r}),"")},e}();t.Caesar=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRotateNTokenAtIndex=function(e,t,r){return e>=t.length||r>=t.length?"":e<t.length-r?t[e+r]:t[e-(t.length-r)]}},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._elements=[],this._header=-1}return e.fromString=function(t){return e.fromArray(t.split(""))},e.fromArray=function(t){if(t.length<1)return new e;var r=new e;return t.forEach((function(e){return r.add(e)})),r.resetHeader(),r},e.prototype.isEmpty=function(){return 0===this._elements.length},e.prototype.resetHeader=function(){this.isEmpty()||(this._header=0)},Object.defineProperty(e.prototype,"first",{get:function(){return this.isEmpty()?void 0:this._elements[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.isEmpty()?void 0:this._elements[this._elements.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.isEmpty()?void 0:this.elements[this._header]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this.isEmpty()?void 0:this._header===this._elements.length-1?(this.resetHeader(),this.first):this._elements[++this._header]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return n(this._elements)},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this._elements.push(e),this._header=this._elements.length-1},e}();t.CircularList=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(8))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e,t,r,i){var o;return n(n({},e),((o={})[t]=i[i.length-1-r],o))},u=function(){function e(e){void 0===e&&(e=o.defaultAlphabet),this._alphabet=e.map((function(e){return e.toLowerCase()})),this._encryptMap=this._alphabet.reduce(a,{}),this._decryptMap=i(this._alphabet).reverse().reduce(a,{})}return Object.defineProperty(e.prototype,"alphabet",{get:function(){return i(this._alphabet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptMap",{get:function(){return n({},this._encryptMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptMap",{get:function(){return n({},this._decryptMap)},enumerable:!0,configurable:!0}),e.prototype.encryptString=function(e){var t=this;return e.toLowerCase().split("").reduce((function(e,r){return t.encryptMap[r]?e+=t.encryptMap[r]:e+=r}),"")},e.prototype.decryptString=function(e){var t=this;return e.toLowerCase().split("").reduce((function(e,r){return t.decryptMap[r]?e+=t.decryptMap[r]:e+=r}),"")},e}();t.Atbash=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(10))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e,t,r,i){var o;return n(n({},e),((o={})[t]=""+(r+1),o))},u=function(e,t,r,i){var o;return n(n({},e),((o={})[""+(r+1)]=t,o))},p=function(){function e(e){var t=this;void 0===e&&(e=o.defaultAlphabet),this._tokenSpacer="-",this._encryptStringReducer=function(e,r,n,i){var o=t._encryptMap[r];return o?""+e+(n>0&&t._encryptMap[i[n-1]]?t._tokenSpacer:"")+o:""+e+r},this._decryptStringReducer=function(e,r){var n=t._decryptMap[r];return n?""+e+n:""+e+(r!==t._tokenSpacer?r:"")},this._alphabet=e.map((function(e){return e.toLowerCase()})),this._encryptMap=this._alphabet.reduce(a,{}),this._decryptMap=this._alphabet.reduce(u,{})}return e.prototype._getParsedTokens=function(e){for(var t=[],r=/[0-9]/,n=e.toLowerCase().split(""),i=0,o="";i<n.length;i++)r.test(n[i])?o+=n[i]:(t.push(o),n[i]!==this._tokenSpacer&&t.push(n[i]),o="");return o&&t.push(o),t},Object.defineProperty(e.prototype,"alphabet",{get:function(){return i(this._alphabet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptMap",{get:function(){return n({},this._encryptMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptMap",{get:function(){return n({},this._decryptMap)},enumerable:!0,configurable:!0}),e.prototype.encryptString=function(e){return e.toLowerCase().split("").reduce(this._encryptStringReducer,"")},e.prototype.decryptString=function(e){return this._getParsedTokens(e).reduce(this._decryptStringReducer,"")},e}();t.A1Z26=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(12))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);function a(e,t,r,n){return e.encryptMap[t]={},e.decryptMap[t]={},n.forEach((function(i,a){e.encryptMap[t][i]=o.getRotateNTokenAtIndex(a,n,r),e.decryptMap[t][o.getRotateNTokenAtIndex(a,n,r)]=i})),e}var u=function(){function e(e){void 0===e&&(e=o.defaultAlphabet),this._alphabet=e?e.map((function(e){return e.toLowerCase()})):o.defaultAlphabet,this._generateMaps()}return e.prototype._generateMaps=function(){var e=this._alphabet.reduce(a,{encryptMap:{},decryptMap:{}});this._encryptMap=e.encryptMap,this._decryptMap=e.decryptMap},e.prototype.inputsAreValid=function(e,t){return!(!e||!t)&&(""!==e&&""!==t)},e.prototype.cleanMessage=function(e){return e.toLocaleLowerCase()},Object.defineProperty(e.prototype,"alphabet",{get:function(){return i(this._alphabet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptMap",{get:function(){return n({},this._encryptMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptMap",{get:function(){return n({},this._decryptMap)},enumerable:!0,configurable:!0}),e.prototype.encryptString=function(e,t){var r=this;if(!this.inputsAreValid(e,t))return"";e=this.cleanMessage(e);var n=o.CircularList.fromString(t);return e.split("").map((function(e){if(r.alphabet.includes(e)){var t=n.value;return n.next,r.encryptMap[t][e]}return e})).join("")},e.prototype.decryptString=function(e,t){var r=this;if(!this.inputsAreValid(e,t))return"";e=this.cleanMessage(e);var n=o.CircularList.fromString(t);return e.split("").map((function(e){if(r.alphabet.includes(e)){var t=n.value;return n.next,r.decryptMap[t][e]}return e})).join("")},e}();t.Viginere=u}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9kZWNyeXB0ZXJzL2NvbW1vbi9pbmRleC50cyIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9kZWNyeXB0ZXJzL0NhZXNhci9pbmRleC50cyIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9kZWNyeXB0ZXJzL0NhZXNhci9DYWVzYXIudHMiLCJ3ZWJwYWNrOi8vZ3Jhdml0eUZhbGxzRGVjb2RlcnMvLi9zcmMvZGVjcnlwdGVycy9jb21tb24vZGVmYXVsdEFscGhhYmV0LnRzIiwid2VicGFjazovL2dyYXZpdHlGYWxsc0RlY29kZXJzLy4vc3JjL2RlY3J5cHRlcnMvY29tbW9uL1JvdGF0ZU4udHMiLCJ3ZWJwYWNrOi8vZ3Jhdml0eUZhbGxzRGVjb2RlcnMvLi9zcmMvZGVjcnlwdGVycy9jb21tb24vQ2lyY3VsYXJMaXN0LnRzIiwid2VicGFjazovL2dyYXZpdHlGYWxsc0RlY29kZXJzLy4vc3JjL2RlY3J5cHRlcnMvQXRiYXNoL2luZGV4LnRzIiwid2VicGFjazovL2dyYXZpdHlGYWxsc0RlY29kZXJzLy4vc3JjL2RlY3J5cHRlcnMvQXRiYXNoL0F0YmFzaC50cyIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9kZWNyeXB0ZXJzL0ExWjI2L2luZGV4LnRzIiwid2VicGFjazovL2dyYXZpdHlGYWxsc0RlY29kZXJzLy4vc3JjL2RlY3J5cHRlcnMvQTFaMjYvQTFaMjYudHMiLCJ3ZWJwYWNrOi8vZ3Jhdml0eUZhbGxzRGVjb2RlcnMvLi9zcmMvZGVjcnlwdGVycy9WaWdpbmVyZS9pbmRleC50cyIsIndlYnBhY2s6Ly9ncmF2aXR5RmFsbHNEZWNvZGVycy8uL3NyYy9kZWNyeXB0ZXJzL1ZpZ2luZXJlL1ZpZ2luZXJlLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdEFscGhhYmV0IiwiZGVmYXVsdCIsIkNhZXNhciIsIkF0YmFzaCIsIkExWjI2IiwiVmlnaW5lcmUiLCJjaG9vc2VUb2tlbiIsImluZGV4IiwiYWxwaGFiZXQiLCJnZXRSb3RhdGVOVG9rZW5BdEluZGV4IiwiZW5jcnlwdE1hcFJlZHVjZXIiLCJyZWR1Y2VyIiwidG9rZW4iLCJkZWNyeXB0TWFwUmVkdWNlciIsInRoaXMiLCJfYWxwaGFiZXQiLCJsZW5ndGgiLCJtYXAiLCJ0b0xvd2VyQ2FzZSIsIl9lbmNyeXB0TWFwIiwicmVkdWNlIiwiX2RlY3J5cHRNYXAiLCJlbmNyeXB0U3RyaW5nIiwibWVzc2FnZSIsInNwbGl0IiwiZW5jcnlwdE1hcCIsImRlY3J5cHRTdHJpbmciLCJkZWNyeXB0TWFwIiwiX2VsZW1lbnRzIiwiX2hlYWRlciIsImZyb21TdHJpbmciLCJzdHIiLCJDaXJjdWxhckxpc3QiLCJmcm9tQXJyYXkiLCJhcnIiLCJsaXN0IiwiZm9yRWFjaCIsImVsZW1lbnQiLCJhZGQiLCJyZXNldEhlYWRlciIsImlzRW1wdHkiLCJ1bmRlZmluZWQiLCJlbGVtZW50cyIsImZpcnN0IiwicHVzaCIsIm1hcFJlZHVjZXIiLCJyZXZlcnNlIiwiX3Rva2VuU3BhY2VyIiwiX2VuY3J5cHRTdHJpbmdSZWR1Y2VyIiwiZW5jcnlwdGVkVG9rZW4iLCJfZGVjcnlwdFN0cmluZ1JlZHVjZXIiLCJkZWNyeXB0ZWRUb2tlbiIsIl9nZXRQYXJzZWRUb2tlbnMiLCJpbnB1dCIsInBhcnNlZCIsImRpZ2l0UkUiLCJzdHJlYW0iLCJ0ZXN0IiwidmlnaW5lcmVUYWJsZVJlZHVjZXIiLCJsZXR0ZXIiLCJsZXR0ZXJJbmRleCIsIl9nZW5lcmF0ZU1hcHMiLCJtYXBzIiwiaW5wdXRzQXJlVmFsaWQiLCJjbGVhbk1lc3NhZ2UiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImtleUxpc3QiLCJpbmNsdWRlcyIsImtleVZhbHVlIiwibmV4dCIsImpvaW4iXSwibWFwcGluZ3MiOiJxQ0FDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRyxrT0NsRnJELGNBRVMsRUFBQUMsZ0JBRkYsRUFBQUMsUUFDUCxRQUVBLFMsOEVDSEEsV0FNSSxFQUFBQyxPQU5LLEVBQUFBLE9BQ1QsV0FNSSxFQUFBQyxPQU5LLEVBQUFBLE9BQ1QsV0FNSSxFQUFBQyxNQU5LLEVBQUFBLE1BQ1QsWUFNSSxFQUFBQyxTQU5LLEVBQUFBLFUsMElDSFQsUSx5Z0JDQUEsV0FDQSxPQUVNQyxFQUFjLFNBQUNDLEVBQWVDLEdBQStCLFNBQUFDLHVCQUF1QkYsRUFBT0MsRUFBVSxJQUVyR0UsRUFBeUIsU0FBQ0MsRUFBY0MsRUFBZUwsRUFBZUMsRyxNQUF1QixjQUM1RkcsS0FBTyxNQUNUQyxHQUFRTixFQUFZQyxFQUFPQyxHQUFTLEtBR25DSyxFQUF5QixTQUFDRixFQUFjQyxFQUFlTCxFQUFlQyxHLE1BQXVCLGNBQzVGRyxLQUFPLE1BQ1RMLEVBQVlDLEVBQU9DLElBQVlJLEVBQUssS0FHekMsYUFLSSxXQUFZSixRQUFBLElBQUFBLE1BQXFCLEVBQUFSLGlCQUM3QmMsS0FBS0MsVUFBWVAsRUFBU1EsT0FBUyxFQUFJUixFQUFTUyxLQUFJLFNBQUFMLEdBQVMsT0FBQUEsRUFBTU0saUJBQWlCLEVBQUFsQixnQkFDcEZjLEtBQUtLLFlBQWNMLEtBQUtDLFVBQVVLLE9BQU9WLEVBQW1CLElBQzVESSxLQUFLTyxZQUFjUCxLQUFLQyxVQUFVSyxPQUFPUCxFQUFtQixJQTBCcEUsT0F2Qkksc0JBQUksdUJBQVEsQyxJQUFaLFdBQ0ksT0FBTyxFQUFJQyxLQUFLQyxZLGdDQUVwQixzQkFBSSx5QkFBVSxDLElBQWQsV0FDSSxPQUFPLEVBQVAsR0FBWUQsS0FBS0ssYyxnQ0FFckIsc0JBQUkseUJBQVUsQyxJQUFkLFdBQ0ksT0FBTyxFQUFQLEdBQVlMLEtBQUtPLGMsZ0NBR2QsWUFBQUMsY0FBUCxTQUFxQkMsR0FBckIsV0FDSSxPQUFPQSxFQUFRTCxjQUFjTSxNQUFNLElBQUlKLFFBQ25DLFNBQUNULEVBQWlCQyxHQUFrQixTQUFLYSxXQUFXYixHQUFTRCxHQUFXLEVBQUtjLFdBQVdiLEdBQVNELEdBQVdDLElBQzVHLEtBSUQsWUFBQWMsY0FBUCxTQUFxQkgsR0FBckIsV0FDSSxPQUFPQSxFQUFRTCxjQUFjTSxNQUFNLElBQUlKLFFBQ25DLFNBQUNULEVBQWlCQyxHQUFrQixTQUFLZSxXQUFXZixHQUFTRCxHQUFXLEVBQUtnQixXQUFXZixHQUFTRCxHQUFXQyxJQUM1RyxLQUdaLEVBbENBLEdBQWEsRUFBQVYsVSw4RUNmYixVQUFlLENBQ1gsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxNLDhFQzFCSixrQ0FBdUNLLEVBQWVDLEVBQW9CZixHQUN0RSxPQUFJYyxHQUFTQyxFQUFTUSxRQUFVdkIsR0FBS2UsRUFBU1EsT0FDbkMsR0FFSlQsRUFBUUMsRUFBU1EsT0FBU3ZCLEVBQzdCZSxFQUFTRCxFQUFRZCxHQUNqQmUsRUFBU0QsR0FBU0MsRUFBU1EsT0FBU3ZCLE0scVNDRDVDLGlCQWlCSSxhQUhRLEtBQUFtQyxVQUFtQixHQUNuQixLQUFBQyxTQUFtQixFQThDL0IsT0E1RFcsRUFBQUMsV0FBUCxTQUFrQkMsR0FDZCxPQUFPQyxFQUFhQyxVQUFVRixFQUFJUCxNQUFNLE1BRXJDLEVBQUFTLFVBQVAsU0FBaUJDLEdBQ2IsR0FBSUEsRUFBSWxCLE9BQVMsRUFDYixPQUFPLElBQUlnQixFQUVmLElBQU1HLEVBQU8sSUFBSUgsRUFHakIsT0FGQUUsRUFBSUUsU0FBUSxTQUFBQyxHQUFXLE9BQUFGLEVBQUtHLElBQUlELE1BQ2hDRixFQUFLSSxjQUNFSixHQVNILFlBQUFLLFFBQVIsV0FDSSxPQUFpQyxJQUExQjFCLEtBQUtjLFVBQVVaLFFBR2xCLFlBQUF1QixZQUFSLFdBQ1N6QixLQUFLMEIsWUFDTjFCLEtBQUtlLFFBQVUsSUFJdkIsc0JBQUksb0JBQUssQyxJQUFULFdBQ0ksT0FBT2YsS0FBSzBCLGVBQVlDLEVBQVkzQixLQUFLYyxVQUFVLEksZ0NBR3ZELHNCQUFJLG1CQUFJLEMsSUFBUixXQUNJLE9BQU9kLEtBQUswQixlQUFZQyxFQUFZM0IsS0FBS2MsVUFBVWQsS0FBS2MsVUFBVVosT0FBUyxJLGdDQUcvRSxzQkFBSSxvQkFBSyxDLElBQVQsV0FDSSxPQUFPRixLQUFLMEIsZUFBWUMsRUFBWTNCLEtBQUs0QixTQUFTNUIsS0FBS2UsVSxnQ0FHM0Qsc0JBQUksbUJBQUksQyxJQUFSLFdBQ0ksT0FBSWYsS0FBSzBCLGVBQ0wsRUFDTzFCLEtBQUtlLFVBQVlmLEtBQUtjLFVBQVVaLE9BQVMsR0FDaERGLEtBQUt5QixjQUNFekIsS0FBSzZCLE9BRUw3QixLQUFLYyxZQUFZZCxLQUFLZSxVLGdDQUlyQyxzQkFBSSx1QkFBUSxDLElBQVosV0FDSSxPQUFPLEVBQUlmLEtBQUtjLFksZ0NBR2IsWUFBQVUsSUFBUCxTQUFXRCxHQUNQdkIsS0FBS2MsVUFBVWdCLEtBQUtQLEdBQ3BCdkIsS0FBS2UsUUFBVWYsS0FBS2MsVUFBVVosT0FBUyxHQUUvQyxFQTdEQSxHQUFhLEVBQUFnQixnQiwwSUNMYixRLHlnQkNBQSxXQUVNYSxFQUFhLFNBQUNsQyxFQUFjQyxFQUFlTCxFQUFlQyxHLE1BQXVCLGNBQ2hGRyxLQUFPLE1BQ1RDLEdBQVFKLEVBQVNBLEVBQVNRLE9BQVMsRUFBSVQsR0FBTSxLQUdsRCxhQUtJLFdBQVlDLFFBQUEsSUFBQUEsTUFBcUIsRUFBQVIsaUJBQzdCYyxLQUFLQyxVQUFZUCxFQUFTUyxLQUFJLFNBQUFMLEdBQVMsT0FBQUEsRUFBTU0saUJBQzdDSixLQUFLSyxZQUFjTCxLQUFLQyxVQUFVSyxPQUFPeUIsRUFBWSxJQUNyRC9CLEtBQUtPLFlBQWMsRUFBSVAsS0FBS0MsV0FBVytCLFVBQVUxQixPQUFPeUIsRUFBWSxJQTBCNUUsT0F2Qkksc0JBQUksdUJBQVEsQyxJQUFaLFdBQ0ksT0FBTyxFQUFJL0IsS0FBS0MsWSxnQ0FFcEIsc0JBQUkseUJBQVUsQyxJQUFkLFdBQ0ksT0FBTyxFQUFQLEdBQVlELEtBQUtLLGMsZ0NBRXJCLHNCQUFJLHlCQUFVLEMsSUFBZCxXQUNJLE9BQU8sRUFBUCxHQUFZTCxLQUFLTyxjLGdDQUdkLFlBQUFDLGNBQVAsU0FBcUJDLEdBQXJCLFdBQ0ksT0FBT0EsRUFBUUwsY0FBY00sTUFBTSxJQUFJSixRQUNuQyxTQUFDVCxFQUFpQkMsR0FBa0IsU0FBS2EsV0FBV2IsR0FBU0QsR0FBVyxFQUFLYyxXQUFXYixHQUFTRCxHQUFXQyxJQUM1RyxLQUlELFlBQUFjLGNBQVAsU0FBcUJILEdBQXJCLFdBQ0ksT0FBT0EsRUFBUUwsY0FBY00sTUFBTSxJQUFJSixRQUNuQyxTQUFDVCxFQUFpQkMsR0FBa0IsU0FBS2UsV0FBV2YsR0FBU0QsR0FBVyxFQUFLZ0IsV0FBV2YsR0FBU0QsR0FBV0MsSUFDNUcsS0FHWixFQWxDQSxHQUFhLEVBQUFULFUsMElDUGIsUyx5Z0JDQUEsV0FFTU8sRUFBb0IsU0FBQ0MsRUFBY0MsRUFBZUwsRUFBZUMsRyxNQUF1QixjQUN2RkcsS0FBTyxNQUNUQyxHQUFRLElBQUdMLEVBQVEsR0FBRyxLQUdyQk0sRUFBb0IsU0FBQ0YsRUFBY0MsRUFBZUwsRUFBZUMsRyxNQUF1QixjQUN2RkcsS0FBTyxNQUNULElBQUdKLEVBQVEsSUFBTUssRUFBSyxLQUczQixhQU1JLFdBQVlKLEdBQVosZ0JBQVksSUFBQUEsTUFBcUIsRUFBQVIsaUJBRnpCLEtBQUErQyxhQUFlLElBUWYsS0FBQUMsc0JBQXdCLFNBQUNyQyxFQUFpQkMsRUFBZUwsRUFBZUMsR0FDNUUsSUFBTXlDLEVBQWlCLEVBQUs5QixZQUFZUCxHQUN4QyxPQUFJcUMsRUFFTyxHQUFHdEMsR0FES0osRUFBUSxHQUFLLEVBQUtZLFlBQVlYLEVBQVNELEVBQVEsSUFBTSxFQUFLd0MsYUFBZSxJQUMzREUsRUFFdEIsR0FBR3RDLEVBQVVDLEdBSXBCLEtBQUFzQyxzQkFBd0IsU0FBQ3ZDLEVBQWlCQyxHQUM5QyxJQUFNdUMsRUFBaUIsRUFBSzlCLFlBQVlULEdBQ3hDLE9BQUl1QyxFQUNPLEdBQUd4QyxFQUFVd0MsRUFFYixHQUFHeEMsR0FBVUMsSUFBVSxFQUFLbUMsYUFBZW5DLEVBQVEsS0FwQjlERSxLQUFLQyxVQUFZUCxFQUFTUyxLQUFJLFNBQUFMLEdBQVMsT0FBQUEsRUFBTU0saUJBQzdDSixLQUFLSyxZQUFjTCxLQUFLQyxVQUFVSyxPQUFPVixFQUFtQixJQUM1REksS0FBS08sWUFBY1AsS0FBS0MsVUFBVUssT0FBT1AsRUFBbUIsSUEyRHBFLE9BckNZLFlBQUF1QyxpQkFBUixTQUF5QkMsR0FNckIsSUFMQSxJQUFNQyxFQUFtQixHQUNuQkMsRUFBa0IsUUFDbEJDLEVBQVNILEVBQU1uQyxjQUFjTSxNQUFNLElBQ3JDeEQsRUFBSSxFQUNKNEMsRUFBUSxHQUNKNUMsRUFBSXdGLEVBQU94QyxPQUFRaEQsSUFDbkJ1RixFQUFRRSxLQUFLRCxFQUFPeEYsSUFDcEI0QyxHQUFTNEMsRUFBT3hGLElBRWhCc0YsRUFBT1YsS0FBS2hDLEdBQ1o0QyxFQUFPeEYsS0FBTzhDLEtBQUtpQyxjQUFnQk8sRUFBT1YsS0FBS1ksRUFBT3hGLElBQ3RENEMsRUFBUSxJQUloQixPQURBQSxHQUFTMEMsRUFBT1YsS0FBS2hDLEdBQ2QwQyxHQUdYLHNCQUFJLHVCQUFRLEMsSUFBWixXQUNJLE9BQU8sRUFBSXhDLEtBQUtDLFksZ0NBRXBCLHNCQUFJLHlCQUFVLEMsSUFBZCxXQUNJLE9BQU8sRUFBUCxHQUFZRCxLQUFLSyxjLGdDQUVyQixzQkFBSSx5QkFBVSxDLElBQWQsV0FDSSxPQUFPLEVBQVAsR0FBWUwsS0FBS08sYyxnQ0FHZCxZQUFBQyxjQUFQLFNBQXFCQyxHQUNqQixPQUFPQSxFQUFRTCxjQUFjTSxNQUFNLElBQUlKLE9BQU9OLEtBQUtrQyxzQkFBdUIsS0FHdkUsWUFBQXRCLGNBQVAsU0FBcUJILEdBRWpCLE9BRHlCVCxLQUFLc0MsaUJBQWlCN0IsR0FDakNILE9BQU9OLEtBQUtvQyxzQkFBdUIsS0FFekQsRUFwRUEsR0FBYSxFQUFBOUMsUywwSUNaYixTLHlnQkNBQSxXQU9BLFNBQVNzRCxFQUFxQi9DLEVBQWVDLEVBQWVMLEVBQWVDLEdBT3ZFLE9BTkFHLEVBQVFjLFdBQVdiLEdBQVMsR0FDNUJELEVBQVFnQixXQUFXZixHQUFTLEdBQzVCSixFQUFTNEIsU0FBUSxTQUFDdUIsRUFBUUMsR0FDdEJqRCxFQUFRYyxXQUFXYixHQUFPK0MsR0FBVSxFQUFBbEQsdUJBQXVCbUQsRUFBYXBELEVBQVVELEdBQ2xGSSxFQUFRZ0IsV0FBV2YsR0FBTyxFQUFBSCx1QkFBdUJtRCxFQUFhcEQsRUFBVUQsSUFBVW9ELEtBRS9FaEQsRUFHWCxpQkFLSSxXQUFZSCxRQUFBLElBQUFBLE1BQXFCLEVBQUFSLGlCQUM3QmMsS0FBS0MsVUFBWVAsRUFBV0EsRUFBU1MsS0FBSSxTQUFBTCxHQUFTLE9BQUFBLEVBQU1NLGlCQUFpQixFQUFBbEIsZ0JBQ3pFYyxLQUFLK0MsZ0JBcUViLE9BbEVZLFlBQUFBLGNBQVIsV0FDSSxJQUFNQyxFQUFjaEQsS0FBS0MsVUFBVUssT0FDL0JzQyxFQUNBLENBQUVqQyxXQUFZLEdBQUlFLFdBQVksS0FFbENiLEtBQUtLLFlBQWMyQyxFQUFLckMsV0FDeEJYLEtBQUtPLFlBQWN5QyxFQUFLbkMsWUFHcEIsWUFBQW9DLGVBQVIsU0FBdUJ4QyxFQUFpQmhDLEdBQ3BDLFNBQUtnQyxJQUFZaEMsS0FHRCxLQUFaZ0MsR0FBMEIsS0FBUmhDLElBTWxCLFlBQUF5RSxhQUFSLFNBQXFCekMsR0FDakIsT0FBT0EsRUFBUTBDLHFCQUduQixzQkFBSSx1QkFBUSxDLElBQVosV0FDSSxPQUFPLEVBQUluRCxLQUFLQyxZLGdDQUVwQixzQkFBSSx5QkFBVSxDLElBQWQsV0FDSSxPQUFPLEVBQVAsR0FBWUQsS0FBS0ssYyxnQ0FFckIsc0JBQUkseUJBQVUsQyxJQUFkLFdBQ0ksT0FBTyxFQUFQLEdBQVlMLEtBQUtPLGMsZ0NBR2QsWUFBQUMsY0FBUCxTQUFxQkMsRUFBaUJoQyxHQUF0QyxXQUNJLElBQUt1QixLQUFLaUQsZUFBZXhDLEVBQVNoQyxHQUM5QixNQUFPLEdBRVhnQyxFQUFVVCxLQUFLa0QsYUFBYXpDLEdBQzVCLElBQU0yQyxFQUFVLEVBQUFsQyxhQUFhRixXQUFXdkMsR0FTeEMsT0FSa0JnQyxFQUFRQyxNQUFNLElBQUlQLEtBQUksU0FBQ0wsR0FDckMsR0FBSSxFQUFLSixTQUFTMkQsU0FBU3ZELEdBQVEsQ0FDL0IsSUFBSXdELEVBQVdGLEVBQVFqRixNQUV2QixPQURBaUYsRUFBUUcsS0FDRCxFQUFLNUMsV0FBVzJDLEdBQVV4RCxHQUVyQyxPQUFPQSxLQUVNMEQsS0FBSyxLQUduQixZQUFBNUMsY0FBUCxTQUFxQkgsRUFBaUJoQyxHQUF0QyxXQUNJLElBQUt1QixLQUFLaUQsZUFBZXhDLEVBQVNoQyxHQUM5QixNQUFPLEdBRVhnQyxFQUFVVCxLQUFLa0QsYUFBYXpDLEdBQzVCLElBQU0yQyxFQUFVLEVBQUFsQyxhQUFhRixXQUFXdkMsR0FTeEMsT0FSa0JnQyxFQUFRQyxNQUFNLElBQUlQLEtBQUksU0FBQ0wsR0FDckMsR0FBSSxFQUFLSixTQUFTMkQsU0FBU3ZELEdBQVEsQ0FDL0IsSUFBSXdELEVBQVdGLEVBQVFqRixNQUV2QixPQURBaUYsRUFBUUcsS0FDRCxFQUFLMUMsV0FBV3lDLEdBQVV4RCxHQUVyQyxPQUFPQSxLQUVNMEQsS0FBSyxLQUU5QixFQTVFQSxHQUFhLEVBQUFqRSIsImZpbGUiOiJncmF2aXR5LWZhbGxzLWRlY29kZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiaW1wb3J0IGRlZmF1bHRBbHBoYWJldCBmcm9tICcuL2RlZmF1bHRBbHBoYWJldCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUm90YXRlTic7XHJcbmV4cG9ydCB7IGRlZmF1bHRBbHBoYWJldCB9O1xyXG5leHBvcnQgKiBmcm9tICcuL0NpcmN1bGFyTGlzdCc7IiwiaW1wb3J0IHsgQ2Flc2FyIH0gZnJvbSAnLi9kZWNyeXB0ZXJzL0NhZXNhcic7XHJcbmltcG9ydCB7IEF0YmFzaCB9IGZyb20gJy4vZGVjcnlwdGVycy9BdGJhc2gnO1xyXG5pbXBvcnQgeyBBMVoyNiB9IGZyb20gJy4vZGVjcnlwdGVycy9BMVoyNic7XHJcbmltcG9ydCB7IFZpZ2luZXJlIH0gZnJvbSAnLi9kZWNyeXB0ZXJzL1ZpZ2luZXJlJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBDYWVzYXIsXHJcbiAgICBBdGJhc2gsXHJcbiAgICBBMVoyNixcclxuICAgIFZpZ2luZXJlXHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9DYWVzYXInOyIsImltcG9ydCB7IGRlZmF1bHRBbHBoYWJldCB9IGZyb20gJy4uL2NvbW1vbic7XHJcbmltcG9ydCB7IGdldFJvdGF0ZU5Ub2tlbkF0SW5kZXggfSBmcm9tICcuLi9jb21tb24nO1xyXG5cclxuY29uc3QgY2hvb3NlVG9rZW4gPSAoaW5kZXg6IG51bWJlciwgYWxwaGFiZXQ6IHN0cmluZ1tdKTogc3RyaW5nID0+IGdldFJvdGF0ZU5Ub2tlbkF0SW5kZXgoaW5kZXgsIGFscGhhYmV0LCAzKTtcclxuXHJcbmNvbnN0IGVuY3J5cHRNYXBSZWR1Y2VyOiBhbnkgPSAocmVkdWNlcjogYW55LCB0b2tlbjogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBhbHBoYWJldDogc3RyaW5nW10pID0+ICh7XHJcbiAgICAuLi5yZWR1Y2VyLFxyXG4gICAgW3Rva2VuXTogY2hvb3NlVG9rZW4oaW5kZXgsIGFscGhhYmV0KVxyXG59KTtcclxuXHJcbmNvbnN0IGRlY3J5cHRNYXBSZWR1Y2VyOiBhbnkgPSAocmVkdWNlcjogYW55LCB0b2tlbjogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBhbHBoYWJldDogc3RyaW5nW10pID0+ICh7XHJcbiAgICAuLi5yZWR1Y2VyLFxyXG4gICAgW2Nob29zZVRva2VuKGluZGV4LCBhbHBoYWJldCldOiB0b2tlblxyXG59KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYWVzYXIge1xyXG4gICAgcHJpdmF0ZSBfZW5jcnlwdE1hcDogYW55O1xyXG4gICAgcHJpdmF0ZSBfZGVjcnlwdE1hcDogYW55O1xyXG4gICAgcHJpdmF0ZSBfYWxwaGFiZXQ6IHN0cmluZ1tdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFscGhhYmV0OiBzdHJpbmdbXSA9IGRlZmF1bHRBbHBoYWJldCkge1xyXG4gICAgICAgIHRoaXMuX2FscGhhYmV0ID0gYWxwaGFiZXQubGVuZ3RoID4gMyA/IGFscGhhYmV0Lm1hcCh0b2tlbiA9PiB0b2tlbi50b0xvd2VyQ2FzZSgpKSA6IGRlZmF1bHRBbHBoYWJldDtcclxuICAgICAgICB0aGlzLl9lbmNyeXB0TWFwID0gdGhpcy5fYWxwaGFiZXQucmVkdWNlKGVuY3J5cHRNYXBSZWR1Y2VyLCB7fSk7XHJcbiAgICAgICAgdGhpcy5fZGVjcnlwdE1hcCA9IHRoaXMuX2FscGhhYmV0LnJlZHVjZShkZWNyeXB0TWFwUmVkdWNlciwge30pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhbHBoYWJldCgpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9hbHBoYWJldF07XHJcbiAgICB9XHJcbiAgICBnZXQgZW5jcnlwdE1hcCgpIHtcclxuICAgICAgICByZXR1cm4geyAuLi50aGlzLl9lbmNyeXB0TWFwIH07XHJcbiAgICB9XHJcbiAgICBnZXQgZGVjcnlwdE1hcCgpIHtcclxuICAgICAgICByZXR1cm4geyAuLi50aGlzLl9kZWNyeXB0TWFwIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuY3J5cHRTdHJpbmcobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcnKS5yZWR1Y2UoXHJcbiAgICAgICAgICAgIChyZWR1Y2VyOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpID0+IHRoaXMuZW5jcnlwdE1hcFt0b2tlbl0gPyByZWR1Y2VyICs9IHRoaXMuZW5jcnlwdE1hcFt0b2tlbl0gOiByZWR1Y2VyICs9IHRva2VuLFxyXG4gICAgICAgICAgICAnJ1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY3J5cHRTdHJpbmcobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcnKS5yZWR1Y2UoXHJcbiAgICAgICAgICAgIChyZWR1Y2VyOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpID0+IHRoaXMuZGVjcnlwdE1hcFt0b2tlbl0gPyByZWR1Y2VyICs9IHRoaXMuZGVjcnlwdE1hcFt0b2tlbl0gOiByZWR1Y2VyICs9IHRva2VuLFxyXG4gICAgICAgICAgICAnJ1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgW1xyXG4gICAgJ2EnLFxyXG4gICAgJ2InLFxyXG4gICAgJ2MnLFxyXG4gICAgJ2QnLFxyXG4gICAgJ2UnLFxyXG4gICAgJ2YnLFxyXG4gICAgJ2cnLFxyXG4gICAgJ2gnLFxyXG4gICAgJ2knLFxyXG4gICAgJ2onLFxyXG4gICAgJ2snLFxyXG4gICAgJ2wnLFxyXG4gICAgJ20nLFxyXG4gICAgJ24nLFxyXG4gICAgJ28nLFxyXG4gICAgJ3AnLFxyXG4gICAgJ3EnLFxyXG4gICAgJ3InLFxyXG4gICAgJ3MnLFxyXG4gICAgJ3QnLFxyXG4gICAgJ3UnLFxyXG4gICAgJ3YnLFxyXG4gICAgJ3cnLFxyXG4gICAgJ3gnLFxyXG4gICAgJ3knLFxyXG4gICAgJ3onXHJcbl07IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0ZU5Ub2tlbkF0SW5kZXgoaW5kZXg6IG51bWJlciwgYWxwaGFiZXQ6IHN0cmluZ1tdLCBuOiBudW1iZXIpOnN0cmluZyB7XHJcbiAgICBpZiAoaW5kZXggPj0gYWxwaGFiZXQubGVuZ3RoIHx8IG4gPj0gYWxwaGFiZXQubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZGV4IDwgYWxwaGFiZXQubGVuZ3RoIC0gbiA/XHJcbiAgICAgICAgYWxwaGFiZXRbaW5kZXggKyBuXSA6XHJcbiAgICAgICAgYWxwaGFiZXRbaW5kZXggLSAoYWxwaGFiZXQubGVuZ3RoIC0gbildXHJcbn0iLCJpbnRlcmZhY2UgTm9kZSB7XHJcbiAgICB2YWx1ZTogYW55O1xyXG4gICAgbmV4dDogTm9kZSB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDaXJjdWxhckxpc3Qge1xyXG4gICAgc3RhdGljIGZyb21TdHJpbmcoc3RyOiBzdHJpbmcpOiBDaXJjdWxhckxpc3Qge1xyXG4gICAgICAgIHJldHVybiBDaXJjdWxhckxpc3QuZnJvbUFycmF5KHN0ci5zcGxpdCgnJykpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGZyb21BcnJheShhcnI6IGFueVtdKTogQ2lyY3VsYXJMaXN0IHtcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaXJjdWxhckxpc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IG5ldyBDaXJjdWxhckxpc3QoKTtcclxuICAgICAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IGxpc3QuYWRkKGVsZW1lbnQpKTtcclxuICAgICAgICBsaXN0LnJlc2V0SGVhZGVyKCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZWxlbWVudHM6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIF9oZWFkZXI6IG51bWJlciA9IC0xO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNFbXB0eSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudHMubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzZXRIZWFkZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWFkZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlyc3QoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB1bmRlZmluZWQgOiB0aGlzLl9lbGVtZW50c1swXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGFzdCgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHVuZGVmaW5lZCA6IHRoaXMuX2VsZW1lbnRzW3RoaXMuX2VsZW1lbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHVuZGVmaW5lZCA6IHRoaXMuZWxlbWVudHNbdGhpcy5faGVhZGVyXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmV4dCgpOiBhbnkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faGVhZGVyID09PSB0aGlzLl9lbGVtZW50cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRIZWFkZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3Q7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzWysrdGhpcy5faGVhZGVyXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVsZW1lbnRzKCk6IGFueVtdIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2VsZW1lbnRzXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkKGVsZW1lbnQ6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5faGVhZGVyID0gdGhpcy5fZWxlbWVudHMubGVuZ3RoIC0gMTtcclxuICAgIH1cclxufSIsImV4cG9ydCAqIGZyb20gJy4vQXRiYXNoJzsiLCJpbXBvcnQgeyBkZWZhdWx0QWxwaGFiZXQgfSBmcm9tICcuLi9jb21tb24nO1xyXG5cclxuY29uc3QgbWFwUmVkdWNlciA9IChyZWR1Y2VyOiBhbnksIHRva2VuOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIGFscGhhYmV0OiBzdHJpbmdbXSkgPT4gKHtcclxuICAgIC4uLnJlZHVjZXIsXHJcbiAgICBbdG9rZW5dOiBhbHBoYWJldFthbHBoYWJldC5sZW5ndGggLSAxIC0gaW5kZXhdXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0YmFzaCB7XHJcbiAgICBwcml2YXRlIF9lbmNyeXB0TWFwOiBhbnk7XHJcbiAgICBwcml2YXRlIF9kZWNyeXB0TWFwOiBhbnk7XHJcbiAgICBwcml2YXRlIF9hbHBoYWJldDogc3RyaW5nW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoYWxwaGFiZXQ6IHN0cmluZ1tdID0gZGVmYXVsdEFscGhhYmV0KSB7XHJcbiAgICAgICAgdGhpcy5fYWxwaGFiZXQgPSBhbHBoYWJldC5tYXAodG9rZW4gPT4gdG9rZW4udG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgdGhpcy5fZW5jcnlwdE1hcCA9IHRoaXMuX2FscGhhYmV0LnJlZHVjZShtYXBSZWR1Y2VyLCB7fSk7XHJcbiAgICAgICAgdGhpcy5fZGVjcnlwdE1hcCA9IFsuLi50aGlzLl9hbHBoYWJldF0ucmV2ZXJzZSgpLnJlZHVjZShtYXBSZWR1Y2VyLCB7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFscGhhYmV0KCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2FscGhhYmV0XTtcclxuICAgIH1cclxuICAgIGdldCBlbmNyeXB0TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMuX2VuY3J5cHRNYXAgfTtcclxuICAgIH1cclxuICAgIGdldCBkZWNyeXB0TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMuX2RlY3J5cHRNYXAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5jcnlwdFN0cmluZyhtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpLnJlZHVjZShcclxuICAgICAgICAgICAgKHJlZHVjZXI6IHN0cmluZywgdG9rZW46IHN0cmluZykgPT4gdGhpcy5lbmNyeXB0TWFwW3Rva2VuXSA/IHJlZHVjZXIgKz0gdGhpcy5lbmNyeXB0TWFwW3Rva2VuXSA6IHJlZHVjZXIgKz0gdG9rZW4sXHJcbiAgICAgICAgICAgICcnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjcnlwdFN0cmluZyhtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpLnJlZHVjZShcclxuICAgICAgICAgICAgKHJlZHVjZXI6IHN0cmluZywgdG9rZW46IHN0cmluZykgPT4gdGhpcy5kZWNyeXB0TWFwW3Rva2VuXSA/IHJlZHVjZXIgKz0gdGhpcy5kZWNyeXB0TWFwW3Rva2VuXSA6IHJlZHVjZXIgKz0gdG9rZW4sXHJcbiAgICAgICAgICAgICcnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImV4cG9ydCAqIGZyb20gJy4vQTFaMjYnOyIsImltcG9ydCB7IGRlZmF1bHRBbHBoYWJldCB9IGZyb20gJy4uL2NvbW1vbic7XHJcblxyXG5jb25zdCBlbmNyeXB0TWFwUmVkdWNlciA9IChyZWR1Y2VyOiBhbnksIHRva2VuOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIGFscGhhYmV0OiBzdHJpbmdbXSkgPT4gKHtcclxuICAgIC4uLnJlZHVjZXIsXHJcbiAgICBbdG9rZW5dOiBgJHtpbmRleCArIDF9YFxyXG59KTtcclxuXHJcbmNvbnN0IGRlY3J5cHRNYXBSZWR1Y2VyID0gKHJlZHVjZXI6IGFueSwgdG9rZW46IHN0cmluZywgaW5kZXg6IG51bWJlciwgYWxwaGFiZXQ6IHN0cmluZ1tdKSA9PiAoe1xyXG4gICAgLi4ucmVkdWNlcixcclxuICAgIFtgJHtpbmRleCArIDF9YF06IHRva2VuXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIEExWjI2IHtcclxuICAgIHByaXZhdGUgX2VuY3J5cHRNYXA6IGFueTtcclxuICAgIHByaXZhdGUgX2RlY3J5cHRNYXA6IGFueTtcclxuICAgIHByaXZhdGUgX2FscGhhYmV0OiBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgX3Rva2VuU3BhY2VyID0gJy0nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFscGhhYmV0OiBzdHJpbmdbXSA9IGRlZmF1bHRBbHBoYWJldCkge1xyXG4gICAgICAgIHRoaXMuX2FscGhhYmV0ID0gYWxwaGFiZXQubWFwKHRva2VuID0+IHRva2VuLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIHRoaXMuX2VuY3J5cHRNYXAgPSB0aGlzLl9hbHBoYWJldC5yZWR1Y2UoZW5jcnlwdE1hcFJlZHVjZXIsIHt9KTtcclxuICAgICAgICB0aGlzLl9kZWNyeXB0TWFwID0gdGhpcy5fYWxwaGFiZXQucmVkdWNlKGRlY3J5cHRNYXBSZWR1Y2VyLCB7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZW5jcnlwdFN0cmluZ1JlZHVjZXIgPSAocmVkdWNlcjogc3RyaW5nLCB0b2tlbjogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBhbHBoYWJldDogc3RyaW5nW10pID0+IHtcclxuICAgICAgICBjb25zdCBlbmNyeXB0ZWRUb2tlbiA9IHRoaXMuX2VuY3J5cHRNYXBbdG9rZW5dO1xyXG4gICAgICAgIGlmIChlbmNyeXB0ZWRUb2tlbikge1xyXG4gICAgICAgICAgICBjb25zdCBzcGFjZXIgPSBpbmRleCA+IDAgJiYgdGhpcy5fZW5jcnlwdE1hcFthbHBoYWJldFtpbmRleCAtIDFdXSA/IHRoaXMuX3Rva2VuU3BhY2VyIDogJyc7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtyZWR1Y2VyfSR7c3BhY2VyfSR7ZW5jcnlwdGVkVG9rZW59YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7cmVkdWNlcn0ke3Rva2VufWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2RlY3J5cHRTdHJpbmdSZWR1Y2VyID0gKHJlZHVjZXI6IHN0cmluZywgdG9rZW46IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlY3J5cHRlZFRva2VuID0gdGhpcy5fZGVjcnlwdE1hcFt0b2tlbl07XHJcbiAgICAgICAgaWYgKGRlY3J5cHRlZFRva2VuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtyZWR1Y2VyfSR7ZGVjcnlwdGVkVG9rZW59YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7cmVkdWNlcn0ke3Rva2VuICE9PSB0aGlzLl90b2tlblNwYWNlciA/IHRva2VuIDogJyd9YDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX2dldFBhcnNlZFRva2VucyhpbnB1dDogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZDogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCBkaWdpdFJFOiBSZWdFeHAgPSAvWzAtOV0vO1xyXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGlucHV0LnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgdG9rZW4gPSAnJztcclxuICAgICAgICBmb3IgKGk7IGkgPCBzdHJlYW0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGRpZ2l0UkUudGVzdChzdHJlYW1baV0pKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiArPSBzdHJlYW1baV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWQucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBzdHJlYW1baV0gIT09IHRoaXMuX3Rva2VuU3BhY2VyICYmIHBhcnNlZC5wdXNoKHN0cmVhbVtpXSk7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRva2VuICYmIHBhcnNlZC5wdXNoKHRva2VuKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhbHBoYWJldCgpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9hbHBoYWJldF07XHJcbiAgICB9XHJcbiAgICBnZXQgZW5jcnlwdE1hcCgpIHtcclxuICAgICAgICByZXR1cm4geyAuLi50aGlzLl9lbmNyeXB0TWFwIH07XHJcbiAgICB9XHJcbiAgICBnZXQgZGVjcnlwdE1hcCgpIHtcclxuICAgICAgICByZXR1cm4geyAuLi50aGlzLl9kZWNyeXB0TWFwIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuY3J5cHRTdHJpbmcobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcnKS5yZWR1Y2UodGhpcy5fZW5jcnlwdFN0cmluZ1JlZHVjZXIsICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjcnlwdFN0cmluZyhtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHRva2Vuczogc3RyaW5nW10gPSB0aGlzLl9nZXRQYXJzZWRUb2tlbnMobWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuIHRva2Vucy5yZWR1Y2UodGhpcy5fZGVjcnlwdFN0cmluZ1JlZHVjZXIsICcnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCAqIGZyb20gJy4vVmlnaW5lcmUnOyIsImltcG9ydCB7IGRlZmF1bHRBbHBoYWJldCwgZ2V0Um90YXRlTlRva2VuQXRJbmRleCwgQ2lyY3VsYXJMaXN0IH0gZnJvbSAnLi4vY29tbW9uJztcclxuXHJcbmludGVyZmFjZSBNYXBzIHtcclxuICAgIGVuY3J5cHRNYXA6IGFueTtcclxuICAgIGRlY3J5cHRNYXA6IGFueTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmlnaW5lcmVUYWJsZVJlZHVjZXIocmVkdWNlcjogTWFwcywgdG9rZW46IHN0cmluZywgaW5kZXg6IG51bWJlciwgYWxwaGFiZXQ6IHN0cmluZ1tdKTogTWFwcyB7XHJcbiAgICByZWR1Y2VyLmVuY3J5cHRNYXBbdG9rZW5dID0ge307XHJcbiAgICByZWR1Y2VyLmRlY3J5cHRNYXBbdG9rZW5dID0ge307XHJcbiAgICBhbHBoYWJldC5mb3JFYWNoKChsZXR0ZXIsIGxldHRlckluZGV4KSA9PiB7XHJcbiAgICAgICAgcmVkdWNlci5lbmNyeXB0TWFwW3Rva2VuXVtsZXR0ZXJdID0gZ2V0Um90YXRlTlRva2VuQXRJbmRleChsZXR0ZXJJbmRleCwgYWxwaGFiZXQsIGluZGV4KTtcclxuICAgICAgICByZWR1Y2VyLmRlY3J5cHRNYXBbdG9rZW5dW2dldFJvdGF0ZU5Ub2tlbkF0SW5kZXgobGV0dGVySW5kZXgsIGFscGhhYmV0LCBpbmRleCldID0gbGV0dGVyO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVkdWNlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpZ2luZXJlIHtcclxuICAgIHByaXZhdGUgX2VuY3J5cHRNYXA6IGFueTtcclxuICAgIHByaXZhdGUgX2RlY3J5cHRNYXA6IGFueTtcclxuICAgIHByaXZhdGUgX2FscGhhYmV0OiBzdHJpbmdbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhbHBoYWJldDogc3RyaW5nW10gPSBkZWZhdWx0QWxwaGFiZXQpIHtcclxuICAgICAgICB0aGlzLl9hbHBoYWJldCA9IGFscGhhYmV0ID8gYWxwaGFiZXQubWFwKHRva2VuID0+IHRva2VuLnRvTG93ZXJDYXNlKCkpIDogZGVmYXVsdEFscGhhYmV0O1xyXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlTWFwcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2dlbmVyYXRlTWFwcygpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IG1hcHM6IE1hcHMgPSAgdGhpcy5fYWxwaGFiZXQucmVkdWNlKFxyXG4gICAgICAgICAgICB2aWdpbmVyZVRhYmxlUmVkdWNlcixcclxuICAgICAgICAgICAgeyBlbmNyeXB0TWFwOiB7fSwgZGVjcnlwdE1hcDoge30gfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fZW5jcnlwdE1hcCA9IG1hcHMuZW5jcnlwdE1hcDtcclxuICAgICAgICB0aGlzLl9kZWNyeXB0TWFwID0gbWFwcy5kZWNyeXB0TWFwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5wdXRzQXJlVmFsaWQobWVzc2FnZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAha2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09ICcnIHx8IGtleSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFuTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBtZXNzYWdlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFscGhhYmV0KCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2FscGhhYmV0XTtcclxuICAgIH1cclxuICAgIGdldCBlbmNyeXB0TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMuX2VuY3J5cHRNYXAgfTtcclxuICAgIH1cclxuICAgIGdldCBkZWNyeXB0TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMuX2RlY3J5cHRNYXAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5jcnlwdFN0cmluZyhtZXNzYWdlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXRzQXJlVmFsaWQobWVzc2FnZSwga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmNsZWFuTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICBjb25zdCBrZXlMaXN0ID0gQ2lyY3VsYXJMaXN0LmZyb21TdHJpbmcoa2V5KTtcclxuICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBtZXNzYWdlLnNwbGl0KCcnKS5tYXAoKHRva2VuKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFscGhhYmV0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleVZhbHVlID0ga2V5TGlzdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGtleUxpc3QubmV4dDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY3J5cHRNYXBba2V5VmFsdWVdW3Rva2VuXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjcnlwdFN0cmluZyhtZXNzYWdlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXRzQXJlVmFsaWQobWVzc2FnZSwga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmNsZWFuTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICBjb25zdCBrZXlMaXN0ID0gQ2lyY3VsYXJMaXN0LmZyb21TdHJpbmcoa2V5KTtcclxuICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSBtZXNzYWdlLnNwbGl0KCcnKS5tYXAoKHRva2VuKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFscGhhYmV0LmluY2x1ZGVzKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleVZhbHVlID0ga2V5TGlzdC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGtleUxpc3QubmV4dDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY3J5cHRNYXBba2V5VmFsdWVdW3Rva2VuXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRlY3J5cHRlZC5qb2luKCcnKTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9